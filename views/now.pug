doctype html
html(lang='en')
  head
    meta(charset='utf-8')
    meta(name='viewport', content='width=device-width, initial-scale=1')
    meta(name='mobile-web-app-capable', content='yes')
    title= title
    meta(name='description', content='Descent is an elegant now playing display for Last.fm showing song metadata and local weather.')
    link(href='/now/app/static/stylesheets/style.css', rel='stylesheet')
    link(href='https://cdnjs.cloudflare.com/ajax/libs/weather-icons/2.0.10/css/weather-icons.min.css', rel='stylesheet')
    link(href='/now/app/static/images/icons/apple-touch-icon.png', rel='apple-touch-icon', sizes='180x180')
    link(href='/now/app/static/images/icons/favicon-32x32.png', rel='icon', type='image/png', sizes='32x32')
    link(href='/now/app/static/images/icons/favicon-16x16.png', rel='icon', type='image/png', sizes='16x16')
    link(href='/now/app/static/images/icons/site.webmanifest', rel='manifest')
    link(href='/now/app/static/images/icons/safari-pinned-tab.svg', rel='mask-icon', color='#5bbad5')
    link(href='/now/app/static/images/icons/favicon.ico', rel='shortcut icon')
    meta(name='apple-mobile-web-app-title', content='Descent')
    meta(name='application-name', content='Descent')
    meta(name='msapplication-TileColor', content='#35384a')
    meta(name='msapplication-config', content='/now/app/static/images/icons/browserconfig.xml')
    meta(name='theme-color', content='#ffffff')
  body
    #background(data-nobg=`${nobg}`).blur
    #mask
    #datetime.hide
      h2#date
      h1#time
    #help
      #links
        a(href='/now/app/config')
          | [settings 
          i.fas.fa-sliders-h.fa-sm
          | ] 
        a(href='https://github.com/JasonPuglisi/descent')
          | [source 
          i.fab.fa-github.fa-sm
          | ]
      a(onclick='processKey({ keyCode: 87 }); return false;')
        | [w]
      |  weather<br>
      a(onclick='processKey({ keyCode: 84 }); return false;')
        | [t]
      |  time and date<br>
      a(onclick='processKey({ keyCode: 69 }); return false;')
        | [e]
      |  extended info<br>
      span#hueHelp.hide
        a(onclick='processKey({ keyCode: 76 }); return false;')
          | [l]
        |  lights (
        span#hueIndicator off
        | )<br>
      a(onclick='processKey({ keyCode: 72 }); return false;')
        | [h]
      |  help
    #weather.hide
      h2#summary
      h1#conditions
        i#icon
        | &nbsp;
        span#temperature
        | &deg;
        span.unit
        | &nbsp;
        span#apparent
          | Feels like&nbsp;
          span#apparentTemperature
          | &deg;
          span.unit
    #music
      h2#userLine.hide
        p#scrobbles.hide
          b
            span#scrobbleCount
          |  scrobbles
        a#userLink(href=`http://last.fm/user/${user}`, target='_blank')
          i.fab.fa-lastfm
          | &nbsp;
          span#user= user
        | &nbsp;is listening to
      a#songLink(href='', target='_blank')
        img#cover
      h1#title
      h2#artist
    script(src='https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js')
    script(src='https://cdnjs.cloudflare.com/ajax/libs/js-cookie/2.2.0/js.cookie.min.js')
    script(src='https://cdnjs.cloudflare.com/ajax/libs/color-thief/2.0.1/color-thief.min.js')
    script(src='https://cdnjs.cloudflare.com/ajax/libs/chroma-js/1.3.6/chroma.min.js')
    script(src='/now/app/static/javascripts/utility/general.js')
    script(src='/now/app/static/javascripts/utility/hue.js')
    script(src='/now/app/static/javascripts/utility/images.js')
    script(src='/now/app/static/javascripts/utility/menu.js')
    script(src='/now/app/static/javascripts/utility/metadata.js')
    script(src='/now/app/static/javascripts/utility/time.js')
    script(src='/now/app/static/javascripts/utility/weather.js')
    script(src='/now/app/static/javascripts/now.js')
